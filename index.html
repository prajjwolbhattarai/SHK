<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SHK Rhein-Neckar | Industry Magazine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
              display: ['Montserrat', 'sans-serif'],
            },
            colors: {
              'brand-dark': '#0f172a',
              'brand-copper': '#b45309',
              'brand-steel': '#475569',
              'brand-surface': '#f8fafc',
            },
            animation: {
              'fade-in-up': 'fadeInUp 0.8s ease-out forwards',
              'fade-in': 'fadeIn 1s ease-out forwards',
            },
            keyframes: {
              fadeInUp: {
                '0%': { opacity: '0', transform: 'translateY(20px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              }
            }
          }
        }
      }
    </script>
    <style>
      .writing-mode-vertical { writing-mode: vertical-rl; }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
    "react/": "https://aistudiocdn.com/react@^19.2.1/",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.555.0",
    "react-router-dom": "https://aistudiocdn.com/react-router-dom@^7.10.1"
  }
}
</script>
</head>
  <body class="bg-brand-surface text-slate-900 antialiased selection:bg-brand-copper selection:text-white">
    
    <header id="header-placeholder" class="sticky top-0 z-50 transition-all duration-300 bg-white border-b border-gray-100 py-2"></header>

    <main id="main-content">
      <!-- Content will be injected by the embedded script -->
    </main>

    <footer id="footer-placeholder" class="bg-white border-t border-gray-200 pt-16 pb-8"></footer>

    <script>
      // --- START: Embedded JS from /js directory ---

      // --- data.js ---
      const INITIAL_CATEGORIES = [
        'Branchen-News', 'Betriebs-Features', 'Personal & Karriere', 'Technologie',
        'Energie & Nachhaltigkeit', 'Regional'
      ];
      const generateContent = (title, topic, category, imageKeyword) => `<p class="lead">In der heutigen Ausgabe von SHK Rhein-Neckar widmen wir uns dem Thema <strong>${topic}</strong>. Ein Bereich, der fÃ¼r Fachhandwerker in der Region immer wichtiger wird.</p><h2>Warum ${topic} jetzt relevant ist</h2><p>Die Branche befindet sich im Wandel. Experten sind sich einig: Wer jetzt nicht handelt, verliert den Anschluss. In Mannheim und Heidelberg sehen wir bereits, wie fÃ¼hrende Betriebe diese Entwicklung fÃ¼r sich nutzen.</p><figure><img src="https://images.unsplash.com/photo-${imageKeyword}?auto=format&fit=crop&q=80&w=1200" alt="${topic}" style="width: 100%; border-radius: 4px; margin: 32px 0; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);"><figcaption style="text-align: center; font-size: 0.9em; color: #666; margin-top: -20px; margin-bottom: 32px; font-style: italic;">Praxisbeispiel: ${topic} im Einsatz.</figcaption></figure><h3>Herausforderungen in der Praxis</h3><p>NatÃ¼rlich ist die Umstellung nicht ohne HÃ¼rden. MaterialengpÃ¤sse, FachkrÃ¤ftemangel und bÃ¼rokratische HÃ¼rden bremsen oft die Euphorie. Doch die Zahlen sprechen eine klare Sprache: Die Investition lohnt sich langfristig.</p><blockquote>"Wir haben unsere Prozesse komplett auf ${topic} ausgerichtet und konnten die Effizienz um 30% steigern." â€“ Ein lokaler Handwerksmeister</blockquote><h3>Fazit fÃ¼r Ihren Betrieb</h3><p>Nutzen Sie die kommenden Monate, um sich in diesem Bereich weiterzubilden. Die Handwerkskammer und lokale Innungen bieten entsprechende Schulungen an.</p><ul><li>PrÃ¼fen Sie Ihre aktuelle Aufstellung bezÃ¼glich ${topic}.</li><li>Sprechen Sie mit Ihren Lieferanten Ã¼ber neue MÃ¶glichkeiten.</li><li>Schulen Sie Ihre Mitarbeiter frÃ¼hzeitig.</li></ul>`;
      const ARTICLE_DATA = {'Branchen-News':[{t:'Neue Energieverordnungen 2025: Was gilt ab Januar?',img:'1497366216548-37526070297c'},{t:'RÃ¼ckblick ISH Messe Frankfurt: Die Highlights',img:'1542744173-8e7e53415bb0'},{t:'GroÃŸhandelspreise stabilisieren sich endlich',img:'1586528116311-ad8dd3c8310d'},{t:'Fusion von zwei groÃŸen Heizungs-Herstellern',img:'1507679721845-63bd00e6183b'},{t:'Handwerkermangel erreicht neuen HÃ¶hepunkt',img:'1504328345606-18bbc8c9d7d1'},{t:'Digitalisierungspflicht fÃ¼r BauantrÃ¤ge kommt',img:'1454165804606-c3d57bc86b40'},{t:'Neue DIN-Normen fÃ¼r Trinkwasserhygiene',img:'1532601224476-15c79f2f7a51'},{t:'FÃ¶rderstopp fÃ¼r reine Gasheizungen beschlossen',img:'1621905251189-08b45d6a269e'},{t:'SHK-Konjunkturbarometer Q3: Stimmung gemischt',img:'1590283603385-17ffb3a7f29f'},{t:'LieferengpÃ¤sse bei WÃ¤rmepumpen beendet',img:'1513828583688-601bf3925e2e'},{t:'Tarifverhandlungen im Handwerk: Einigung erzielt',img:'1521791136064-7986c2920216'},{t:'Smart-Home Standards endlich vereinheitlicht',img:'1558002038-1091a1661116'}],'Betriebs-Features':[{t:'Wie MÃ¼ller & SÃ¶hne komplett papierlos wurden',img:'1516321318423-f06f85e504b3'},{t:'Erfolgsgeschichte: Vom Ein-Mann-Betrieb zur GmbH',img:'1556761175-5973dc0f32e7'},{t:'Nachfolgeplanung: Wenn der Junior Ã¼bernimmt',img:'1519389950476-295375a3c876'},{t:'Werkstatt-Optimierung nach Lean-Prinzipien',img:'1581091226825-a6a2a5aee158'},{t:'Kundenbindung durch digitale WartungsvertrÃ¤ge',img:'1551288049-bebda4e38f71'},{t:'Fuhrpark-Management: E-MobilitÃ¤t im Handwerk',img:'1593941707882-a5bba14938c7'},{t:'BÃ¼ro-Organisation: Tools die Zeit sparen',img:'1497215728101-856f4ea42174'},{t:'Marketing fÃ¼r Handwerker: Instagram & Co',img:'1611162617474-5b21e879e113'},{t:'Die perfekte Baustellen-Dokumentation',img:'1503387762-592deb58ef4e'},{t:'Effiziente Lagerhaltung: Nie wieder Suchen',img:'1586528116311-ad8dd3c8310d'},{t:'Mitarbeitermotivation im stressigen Alltag',img:'1522071820081-009f0129c71c'},{t:'Finanzierung von GroÃŸprojekten sicherstellen',img:'1554224155-8d04cb21cd6c'}],'Personal & Karriere':[{t:'Azubi-Recruiting auf TikTok: Ein Leitfaden',img:'1611162616305-c69b3fa7fbe0'},{t:'Frauen im SHK-Handwerk: Ein PortrÃ¤t',img:'1573496359142-b8d87734a5a2'},{t:'Gehaltsreport 2025: Was verdient ein Meister?',img:'1554224155-8d04cb21cd6c'},{t:'Weiterbildung zum GebÃ¤ude-Energieberater',img:'1517048696773-61f6231e4c03'},{t:'Work-Life-Balance auf Montage: Geht das?',img:'1501504905252-473c47e087f8'},{t:'FÃ¼hrungskrÃ¤fte-Training fÃ¼r Jungmeister',img:'1519389950476-295375a3c876'},{t:'Quereinsteiger erfolgreich ins Team integrieren',img:'1521791136064-7986c2920216'},{t:'Gesundheitsmanagement: RÃ¼cken schonen',img:'1571019614242-c5c5dee9f50b'},{t:'Die 4-Tage-Woche im Praxistest',img:'1454165804606-c3d57bc86b40'},{t:'Azubi-Austauschprogramme in Europa',img:'1523240795612-9a054b0db644'},{t:'Benefits, die FachkrÃ¤fte wirklich wollen',img:'1556761175-5973dc0f32e7'},{t:'Karrierewege nach der Ausbildung',img:'1486312338219-ce68d2c6f44d'}],Technologie:[{t:'KI in der Heizungswartung: Predictive Maintenance',img:'1518770660439-4636190af475'},{t:'Drohnen fÃ¼r Dach- und Kamininspektionen',img:'1506947411449-b64ff92201ed'},{t:'3D-Badplanung mit der VR-Brille erleben',img:'1592478411213-61532f94c038'},{t:'Der vernetzte Heizungskeller der Zukunft',img:'1558002038-1091a1661116'},{t:'Wasserstoff-Ready Kessel: Stand der Technik',img:'1532601224476-15c79f2f7a51'},{t:'Die besten Apps fÃ¼r das digitale AufmaÃŸ',img:'1551288049-bebda4e38f71'},{t:'Smarte Thermostate im groÃŸen Vergleich',img:'1563770099-43e98d63375a'},{t:'Robotik bei der Rohrsanierung',img:'1485827404703-89b55fcc595e'},{t:'IoT-Sensoren zur Leckageortung',img:'1550751827-4bd374c3f58b'},{t:'Exoskelette fÃ¼r schwere Lasten auf dem Bau',img:'1581091226825-a6a2a5aee158'},{t:'Software fÃ¼r die effiziente Einsatzplanung',img:'1460925895917-afdab827c52f'},{t:'Cyber-Security fÃ¼r Smart Home Installationen',img:'1563986768609-322da13575f3'}],'Energie & Nachhaltigkeit':[{t:'WÃ¤rmepumpen im Altbau: Was ist mÃ¶glich?',img:'1592833159057-65a2d0856048'},{t:'Solarthermie vs. Photovoltaik: Der Vergleich',img:'1509391366360-2e959784a276'},{t:'Grauwassernutzung im Einfamilienhaus',img:'1517478347898-1317d7b13998'},{t:'Holzpellets: Eine nachhaltige Alternative?',img:'1513828583688-601bf3925e2e'},{t:'Geothermie in der Rhein-Neckar Region',img:'1466611653243-cae5f2460d85'},{t:'Energieausweis richtig lesen und erstellen',img:'1450101499163-c8848c66ca85'},{t:'Hydraulischer Abgleich einfach erklÃ¤rt',img:'1621905252507-b35492cc74b4'},{t:'WohnraumlÃ¼ftung mit WÃ¤rmerÃ¼ckgewinnung',img:'1513262334863-1492b45e771c'},{t:'GrÃ¼ne Kredite fÃ¼r energetische Sanierungen',img:'1554224155-8d04cb21cd6c'},{t:'CO2-Bepreisung und ihre Folgen fÃ¼r Kunden',img:'1516937044662-5e3791418bfe'},{t:'Passivhaus-Standards 2025',img:'1500336236962-42173167a57a'},{t:'Recycling von alten Heizungsanlagen',img:'1532996126620-e918996f6428'}],Regional:[{t:'GroÃŸprojekt: Sanierung Mannheim Klinikum',img:'1504917595217-d4dc5ebe6122'},{t:'Herausforderung: Heidelberger Schloss',img:'1568632168969-92b425b04169'},{t:'Neubaugebiet Ludwigshafen SÃ¼d: Ein Bericht',img:'1597217329598-a620b784a440'},{t:'Interview mit der Handwerkskammer Mannheim',img:'1556761175-5973dc0f32e7'},{t:'Lokale FÃ¶rderprogramme Rhein-Neckar im Check',img:'1579621970568-a3aa04251b77'},{t:'Kooperation mit Stadtwerken Heidelberg',img:'1473341304177-f26f84052f40'},{t:'SHK-Innungsausflug in den Odenwald',img:'1501504905252-473c47e087f8'},{t:'FirmenjubilÃ¤um Schmidt GmbH Weinheim',img:'1519389950476-295375a3c876'},{t:'Berufsschule Mannheim modernisiert WerkstÃ¤tten',img:'1581094794329-cd136ce4dad9'},{t:'Hochwasserschutz am Neckar: Pumpen im Einsatz',img:'1583321500900-82807e458f3c'},{t:'FernwÃ¤rmeausbau in der Metropolregion',img:'1513828742343-522d4a9713c2'},{t:'Start-up Szene im Technologiepark Heidelberg',img:'1559136555-930d72f1d300'}]};
      const GENERATED_ARTICLES = [];
      let idCounter = 1;
      Object.entries(ARTICLE_DATA).forEach(([category,items])=>{items.forEach((item,index)=>{GENERATED_ARTICLES.push({id:`art-${idCounter++}`,type:'article',title:item.t,summary:`Ein umfassender Bericht Ã¼ber ${item.t.split(':')[0]}. Erfahren Sie, was dies fÃ¼r die Region Rhein-Neckar bedeutet.`,content:generateContent(item.t,item.t.split(':')[0],category,item.img),imageUrl:`https://images.unsplash.com/photo-${item.img}?auto=format&fit=crop&q=80&w=1200`,category:category,author:index%3===0?'Redaktion':(index%3===1?'Markus Weber':'Julia Schmidt'),publishedAt:new Date(Date.now()-(index*86400000)-(Math.random()*1000000000)).toISOString(),featured:index===0&&category==='Branchen-News',views:Math.floor(Math.random()*5000)+500,shares:Math.floor(Math.random()*300),readTime:Math.floor(Math.random()*300)+120,videoUrl:index===3?'https://www.youtube.com/watch?v=Fj0X1Wn6Eew':undefined})})});
      const STATIC_PAGES = [{id:'page-imprint',type:'page',title:'Impressum',summary:'Rechtliche Informationen',content:`<h2>Impressum</h2><p><strong>Angaben gemÃ¤ÃŸ Â§ 5 TMG</strong></p><p>SHK Rhein-Neckar Magazin GmbH<br>WasserturmstraÃŸe 12<br>68161 Mannheim<br>Deutschland</p><p><strong>Vertreten durch:</strong><br>Max Mustermann</p><p><strong>Kontakt:</strong><br>Telefon: +49 (0) 621 12345-0<br>E-Mail: kontakt@shk-rhein-neckar.de</p>`,imageUrl:'https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&q=80&w=1200',category:'Page',author:'Admin',publishedAt:new Date().toISOString(),featured:!1,views:0,shares:0,readTime:0},{id:'page-privacy',type:'page',title:'DatenschutzerklÃ¤rung',summary:'Datenschutz',content:'<h2>Datenschutz</h2><p>Wir nehmen den Schutz Ihrer Daten ernst...</p>',imageUrl:'https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=1200',category:'Page',author:'Admin',publishedAt:new Date().toISOString(),featured:!1,views:0,shares:0,readTime:0},{id:'page-terms',type:'page',title:'AGB',summary:'Allgemeine GeschÃ¤ftsbedingungen',content:'<h2>AGB</h2><p>Allgemeine GeschÃ¤ftsbedingungen fÃ¼r die Nutzung...</p>',imageUrl:'https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&q=80&w=1200',category:'Page',author:'Admin',publishedAt:new Date().toISOString(),featured:!1,views:0,shares:0,readTime:0},{id:'page-submit',type:'page',title:'Story einreichen',summary:'Senden Sie uns Ihre Story',content:`<h2>Ihre Geschichte im Magazin</h2><p>Senden Sie uns Ihre Projektberichte an <a href="mailto:redaktion@shk-rhein-neckar.de">redaktion@shk-rhein-neckar.de</a></p>`,imageUrl:'https://images.unsplash.com/photo-1512486130939-2c4f79935e4f?auto=format&fit=crop&q=80&w=1200',category:'Page',author:'Redaktion',publishedAt:new Date().toISOString(),featured:!1,views:0,shares:0,readTime:0},{id:'page-advertising',type:'page',title:'Werben & Partner',summary:'WerbemÃ¶glichkeiten',content:`<h2>Media-Daten</h2><p>Erreichen Sie 5000+ FachkrÃ¤fte. Kontakt: <a href="mailto:ads@shk-rhein-neckar.de">ads@shk-rhein-neckar.de</a></p>`,imageUrl:'https://images.unsplash.com/photo-1557804506-669a67965ba0?auto=format&fit=crop&q=80&w=1200',category:'Page',author:'Sales',publishedAt:new Date().toISOString(),featured:!1,views:0,shares:0,readTime:0},{id:'page-jobs',type:'page',title:'Stellenmarkt',summary:'Jobs in der Region',content:`<h2>SHK Jobs Rhein-Neckar</h2><p>Inserieren Sie hier. Kontakt: <a href="mailto:jobs@shk-rhein-neckar.de">jobs@shk-rhein-neckar.de</a></p>`,imageUrl:'https://images.unsplash.com/photo-1521791136064-7986c2920216?auto=format&fit=crop&q=80&w=1200',category:'Page',author:'HR',publishedAt:new Date().toISOString(),featured:!1,views:0,shares:0,readTime:0}];
      const ALL_ARTICLES = [...GENERATED_ARTICLES, ...STATIC_PAGES];

      // --- language.js ---
      const translations={'en':{'nav.home':'Home','nav.magazine':'Magazine','nav.companies':'For Companies','nav.contact':'Contact','nav.get_featured':'Get Featured','nav.directory':'Directory','hero.label':'Live from Rhein-Neckar','hero.title':'The Leading SHK Industry Magazine.','hero.subtitle':'Trusted industry coverage, insights, and success stories for sanitary, heating, and climate professionals in the Rhein-Neckar region.','hero.read_latest':'Read Latest','hero.submit_story':'Submit a Story','section.top_story':'Top Story','section.latest_news':'Latest Industry News','section.trust_title':'Deeply Rooted in Rhein-Neckar','section.trust_text':"We don't just report on the industry; we are part of the local ecosystem. Connecting businesses in Mannheim, Heidelberg, Ludwigshafen, and beyond.",'section.explore_categories':'Explore Topics','newsletter.title':'Stay Informed. No Spam.','newsletter.text':'Get the weekly digest of the most important SHK news in Rhein-Neckar. Used by over 2,000 local professionals.','newsletter.placeholder':'Your work email...','newsletter.button':'Subscribe','newsletter.disclaimer':'Unsubscribe at any time.','footer.about':'The independent voice for the Sanitary, Heating, and Climate industry in the metropolitan region.','footer.rights':'All rights reserved.','footer.staff_login':'Staff Login','article.read_story':'Read Story','article.watch_video':'Watch Video','article.back':'Back to Magazine','article.read_time':'min read','article.share':'Share','article.enjoyed':'Enjoyed this story?','article.subscribe_promo':'Join 2,000+ local professionals receiving our weekly SHK industry briefing.','search.placeholder':'Search articles...','search.placeholder_dir':'Search by name or city...','search.no_results':'No articles found matching your search.','btn.show_more':'Show More','btn.load_more':'Load More Articles','btn.view_category':'View Category','directory.title':'Business Directory','directory.subtitle':'Find qualified SHK professionals in the Rhein-Neckar region.','cat.Branchen-News':'Industry News','cat.Betriebs-Features':'Company Features','cat.Personal & Karriere':'HR & Careers','cat.Technologie':'Technology','cat.Energie & Nachhaltigkeit':'Energy & Sustainability','cat.Regional':'Regional'},de:{'nav.home':'Startseite','nav.magazine':'Magazin','nav.companies':'FÃ¼r Unternehmen','nav.contact':'Kontakt','nav.get_featured':'Artikel Einreichen','nav.directory':'Verzeichnis','hero.label':'Live aus Rhein-Neckar','hero.title':'Das fÃ¼hrende SHK-Branchenmagazin.','hero.subtitle':'VerlÃ¤ssliche Berichterstattung, Einblicke und Erfolgsgeschichten fÃ¼r SanitÃ¤r-, Heizungs- und Klimaprofis in der Metropolregion Rhein-Neckar.','hero.read_latest':'Aktuelles lesen','hero.submit_story':'Story einreichen','section.top_story':'Top Story','section.latest_news':'Neueste Branchennachrichten','section.trust_title':'Tief verwurzelt in Rhein-Neckar','section.trust_text':'Wir berichten nicht nur Ã¼ber die Branche; wir sind Teil des lokalen Ã–kosystems. Wir verbinden Unternehmen in Mannheim, Heidelberg, Ludwigshafen und darÃ¼ber hinaus.','section.explore_categories':'Themen Entdecken','newsletter.title':'Informiert bleiben. Kein Spam.','newsletter.text':'Erhalten Sie die wÃ¶chentliche Zusammenfassung der wichtigsten SHK-Nachrichten. Gelesen von Ã¼ber 2.000 lokalen Profis.','newsletter.placeholder':'Ihre geschÃ¤ftliche E-Mail...','newsletter.button':'Abonnieren','newsletter.disclaimer':'Jederzeit abbestellbar.','footer.about':'Die unabhÃ¤ngige Stimme fÃ¼r die SanitÃ¤r-, Heizungs- und Klimabranche in der Metropolregion.','footer.rights':'Alle Rechte vorbehalten.','footer.staff_login':'Mitarbeiter Login','article.read_story':'Artikel lesen','article.watch_video':'Video ansehen','article.back':'ZurÃ¼ck zum Magazin','article.read_time':'Min Lesezeit','article.share':'Teilen','article.enjoyed':'Hat Ihnen der Artikel gefallen?','article.subscribe_promo':'SchlieÃŸen Sie sich 2.000+ lokalen Profis an und erhalten Sie unser wÃ¶chentliches Briefing.','search.placeholder':'Artikel suchen...','search.placeholder_dir':'Suche nach Name oder Stadt...','search.no_results':'Keine Artikel gefunden.','btn.show_more':'Mehr Anzeigen','btn.load_more':'Weitere Artikel laden','btn.view_category':'Kategorie ansehen','directory.title':'Branchenverzeichnis','directory.subtitle':'Finden Sie qualifizierte SHK-Fachbetriebe in der Rhein-Neckar-Region.','cat.Branchen-News':'Branchen-News','cat.Betriebs-Features':'Betriebs-Features','cat.Personal & Karriere':'Personal & Karriere','cat.Technologie':'Technologie','cat.Energie & Nachhaltigkeit':'Energie & Nachhaltigkeit','cat.Regional':'Regional'},fr:{'nav.home':'Accueil','nav.magazine':'Magazine','nav.companies':'Pour les entreprises','nav.contact':'Contact','nav.get_featured':'ÃŠtre en vedette','nav.directory':'Annuaire','hero.label':"En direct de Rhein-Neckar",'hero.title':"Le premier magazine de l'industrie SHK.",'hero.subtitle':"Couverture fiable de l'industrie pour les professionnels du sanitaire, du chauffage et du climat dans la rÃ©gion de Rhein-Neckar.",'hero.read_latest':'Lire les derniÃ¨res nouvelles','hero.submit_story':'Soumettre une histoire','section.top_story':'Ã€ la une','section.latest_news':"DerniÃ¨res nouvelles de l'industrie",'section.trust_title':'ProfondÃ©ment enracinÃ©','section.trust_text':'Nous connectons les entreprises Ã  Mannheim, Heidelberg, Ludwigshafen et au-delÃ .','section.explore_categories':'Explorer les sujets','newsletter.title':'Restez informÃ©.','newsletter.text':"Recevez le rÃ©sumÃ© hebdomadaire des nouvelles SHK les plus importantes.",'newsletter.placeholder':'Votre email professionnel...','newsletter.button':"S'abonner",'newsletter.disclaimer':'Se dÃ©sabonner Ã  tout moment.','footer.about':"La voix indÃ©pendante de l'industrie SHK dans la rÃ©gion mÃ©tropolitaine.",'footer.rights':'Tous droits rÃ©servÃ©s.','footer.staff_login':'Connexion personnel','article.read_story':"Lire l'histoire",'article.watch_video':'Regarder la vidÃ©o','article.back':'Retour au magazine','article.read_time':'min de lecture','article.share':'Partager','article.enjoyed':'Vous avez aimÃ© cette histoire ?','article.subscribe_promo':'Rejoignez 2 000+ professionnels locaux.','search.placeholder':"Rechercher des articles...",'search.placeholder_dir':'Rechercher par nom ou ville...','search.no_results':'Aucun article trouvÃ©.','btn.show_more':'Montrer plus',"btn.load_more":"Charger plus d'articles",'btn.view_category':'Voir la catÃ©gorie','directory.title':'Annuaire des entreprises','directory.subtitle':'Trouvez des professionnels SHK qualifiÃ©s dans la rÃ©gion de Rhein-Neckar.','cat.Branchen-News':"ActualitÃ©s de l'industrie",'cat.Betriebs-Features':"FonctionnalitÃ©s de l'entreprise",'cat.Personal & Karriere':'RH et carriÃ¨res','cat.Technologie':'Technologie','cat.Energie & Nachhaltigkeit':'Ã‰nergie et durabilitÃ©','cat.Regional':'RÃ©gional'},it:{'nav.home':'Home','nav.magazine':'Rivista','nav.companies':'Per le aziende','nav.contact':'Contatto','nav.get_featured':'Mettiti in luce','nav.directory':'Elenco','hero.label':'In diretta da Rhein-Neckar','hero.title':"La rivista leader del settore SHK.",'hero.subtitle':'Copertura affidabile del settore per i professionisti di sanitari, riscaldamento e clima nella regione Rhein-Neckar.','hero.read_latest':'Leggi le ultime','hero.submit_story':'Invia una storia','section.top_story':'Storia principale','section.latest_news':"Ultime notizie del settore",'section.trust_title':'Profondamente radicato','section.trust_text':'Colleghiamo le aziende a Mannheim, Heidelberg, Ludwigshafen e oltre.','section.explore_categories':'Esplora argomenti','newsletter.title':'Rimani informato.','newsletter.text':"Ricevi il riepilogo settimanale delle notizie SHK piÃ¹ importanti.",'newsletter.placeholder':"La tua email aziendale...",'newsletter.button':'Iscriviti','newsletter.disclaimer':'Annulla iscrizione in qualsiasi momento.','footer.about':"La voce indipendente per il settore SHK nella regione metropolitana.",'footer.rights':'Tutti i diritti riservati.','footer.staff_login':'Login personale','article.read_story':'Leggi storia','article.watch_video':'Guarda video','article.back':'Torna alla rivista','article.read_time':'min di lettura','article.share':'Condividi','article.enjoyed':'Ti Ã¨ piaciuta questa storia?','article.subscribe_promo':'Unisciti a 2.000+ professionisti locali.','search.placeholder':'Cerca articoli...','search.placeholder_dir':'Cerca per nome o cittÃ ...','search.no_results':'Nessun articolo trovato.','btn.show_more':'Mostra di piÃ¹','btn.load_more':"Carica altri articoli",'btn.view_category':'Vedi categoria','directory.title':"Elenco delle aziende",'directory.subtitle':'Trova professionisti SHK qualificati nella regione del Rhein-Neckar.','cat.Branchen-News':'Notizie del settore','cat.Betriebs-Features':'Caratteristiche aziendali','cat.Personal & Karriere':'Risorse umane e carriera','cat.Technologie':'Tecnologia','cat.Energie & Nachhaltigkeit':'Energia e sostenibilitÃ ','cat.Regional':'Regionale'},es:{'nav.home':'Inicio','nav.magazine':'Revista','nav.companies':'Para empresas','nav.contact':'Contacto','nav.get_featured':'Destacarse','nav.directory':'Directorio','hero.label':'En vivo desde Rhein-Neckar','hero.title':'La revista lÃ­der de la industria SHK.','hero.subtitle':'Cobertura confiable de la industria para profesionales de sanitarios, calefacciÃ³n y clima en la regiÃ³n de Rhein-Neckar.','hero.read_latest':'Leer lo Ãºltimo','hero.submit_story':'Enviar historia','section.top_story':'Historia principal','section.latest_news':'Ãšltimas noticias de la industria','section.trust_title':'Profundamente arraigado','section.trust_text':'Conectamos empresas en Mannheim, Heidelberg, Ludwigshafen y mÃ¡s allÃ¡.','section.explore_categories':'Explorar temas','newsletter.title':'MantÃ©ngase informado.','newsletter.text':'Reciba el resumen semanal de las noticias SHK mÃ¡s importantes.','newsletter.placeholder':'Su correo corporativo...','newsletter.button':'Suscribirse','newsletter.disclaimer':'Darse de baja en cualquier momento.','footer.about':'La voz independiente de la industria SHK en la regiÃ³n metropolitana.','footer.rights':'Todos los derechos reservados.','footer.staff_login':'Acceso personal','article.read_story':'Leer historia','article.watch_video':'Ver video','article.back':'Volver a la revista','article.read_time':'min de lectura','article.share':'Compartir','article.enjoyed':'Â¿Le gustÃ³ esta historia?','article.subscribe_promo':'Ãšnase a 2,000+ profesionales locales.','search.placeholder':'Buscar artÃ­culos...','search.placeholder_dir':'Buscar por nombre o ciudad...','search.no_results':'No se encontraron artÃ­culos.','btn.show_more':'Mostrar mÃ¡s','btn.load_more':'Cargar mÃ¡s artÃ­culos','btn.view_category':'Ver categorÃ­a','directory.title':'Directorio de empresas','directory.subtitle':'Encuentre profesionales SHK calificados en la regiÃ³n de Rhein-Neckar.','cat.Branchen-News':'Noticias de la industria','cat.Betriebs-Features':'CaracterÃ­sticas de la empresa','cat.Personal & Karriere':'Recursos humanos y carreras','cat.Technologie':'TecnologÃ­a','cat.Energie & Nachhaltigkeit':'EnergÃ­a y sostenibilidad','cat.Regional':'Regional'}};
      let currentLanguage = localStorage.getItem('shk_lang') || 'de';
      const languageService={getLanguage:()=>currentLanguage,setLanguage:(lang)=>{if(translations[lang]){currentLanguage=lang;localStorage.setItem('shk_lang',lang);window.dispatchEvent(new CustomEvent('language-change'))}},t:(key)=>translations[currentLanguage]?.[key]||translations.en?.[key]||key};
      const { t, getLanguage } = languageService;

      // --- components.js ---
      function createHeader({ categories, activeCategory, isDirectoryActive }) {
        const lang = getLanguage();
        const logoUrl = "shklogo.jpg";
        const languages = [
          { code: 'en', label: 'English', flag: 'ðŸ‡¬ðŸ‡§' }, { code: 'de', label: 'Deutsch', flag: 'ðŸ‡©ðŸ‡ª' },
          { code: 'fr', label: 'FranÃ§ais', flag: 'ðŸ‡«ðŸ‡·' }, { code: 'it', label: 'Italiano', flag: 'ðŸ‡®ðŸ‡¹' },
          { code: 'es', label: 'EspaÃ±ol', flag: 'ðŸ‡ªðŸ‡¸' },
        ];
        return `
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
              <div class="flex items-center lg:hidden">
                <button id="mobile-menu-button" class="p-2 text-brand-dark">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
                </button>
              </div>
              <div class="flex-shrink-0 flex items-center justify-center lg:justify-start w-full lg:w-auto">
                <a href="index.html" data-nav-link="All" class="cursor-pointer group">
                  <img src="${logoUrl}" alt="SHK Rhein-Neckar" class="h-16 w-auto object-contain transition-all duration-300">
                </a>
              </div>
              <div id="desktop-nav-links" class="hidden lg:flex space-x-8 items-center h-full">
                  <a href="index.html" data-nav-link="All" class="relative h-full text-xs font-bold uppercase tracking-widest transition-colors flex items-center ${activeCategory === 'All' && !isDirectoryActive ? 'text-brand-copper' : 'text-brand-steel hover:text-brand-dark'}">
                    ${t('nav.home')}
                    ${activeCategory === 'All' && !isDirectoryActive ? '<span class="absolute bottom-0 left-0 w-full h-0.5 bg-brand-copper animate-fade-in"></span>' : ''}
                  </a>
                  <a href="directory.html" class="relative h-full text-xs font-bold uppercase tracking-widest transition-colors flex items-center ${isDirectoryActive ? 'text-brand-copper' : 'text-brand-steel hover:text-brand-dark'}">
                    ${t('nav.directory')}
                    ${isDirectoryActive ? '<span class="absolute bottom-0 left-0 w-full h-0.5 bg-brand-copper animate-fade-in"></span>' : ''}
                  </a>
                  ${categories.slice(0, 4).map(cat => `
                    <a href="index.html" data-nav-link="${cat}" class="relative h-full text-xs font-bold uppercase tracking-widest transition-colors flex items-center ${activeCategory === cat && !isDirectoryActive ? 'text-brand-copper' : 'text-brand-steel hover:text-brand-dark'}">
                      ${t(`cat.${cat}`) || cat}
                      ${activeCategory === cat && !isDirectoryActive ? '<span class="absolute bottom-0 left-0 w-full h-0.5 bg-brand-copper animate-fade-in"></span>' : ''}
                    </a>
                  `).join('')}
              </div>
              <div id="header-actions" class="flex items-center space-x-4">
                <div id="search-container" class="flex items-center transition-all duration-300 w-8">
                  <button id="search-toggle-button" class="p-2 text-brand-steel hover:text-brand-copper transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                  </button>
                </div>
                <div id="lang-switcher-container" class="hidden lg:block relative group">
                  <button id="lang-menu-button" class="flex items-center space-x-2 text-xs font-bold uppercase text-brand-steel hover:text-brand-dark transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>
                    <span>${lang.toUpperCase()}</span>
                  </button>
                  <div id="lang-menu" class="hidden absolute right-0 mt-4 w-40 bg-white border border-gray-100 shadow-xl rounded-sm py-2 z-50 animate-fade-in">
                    <div class="absolute -top-2 right-4 w-4 h-4 bg-white border-t border-l border-gray-100 transform rotate-45"></div>
                    ${languages.map(l => `
                      <button data-lang="${l.code}" class="lang-option w-full text-left px-4 py-3 text-xs font-bold flex items-center hover:bg-gray-50 transition-colors ${lang === l.code ? 'text-brand-copper bg-orange-50/50' : 'text-gray-700'}">
                        <span class="mr-3 text-lg">${l.flag}</span> ${l.label}
                      </button>
                    `).join('')}
                  </div>
                </div>
                <div class="hidden lg:block h-6 w-px bg-gray-200"></div>
                <a href="article.html?id=page-submit" class="hidden lg:block group relative bg-brand-dark text-white px-6 py-3 text-xs font-bold uppercase tracking-wider overflow-hidden rounded-sm transition-all hover:shadow-lg">
                  <span class="relative z-10 group-hover:text-brand-copper transition-colors">${t('nav.get_featured')}</span>
                  <div class="absolute inset-0 bg-white transform -translate-x-full group-hover:translate-x-0 transition-transform duration-300 ease-out z-0"></div>
                </a>
              </div>
            </div>
          </div>
          <div id="mobile-menu" class="hidden lg:hidden border-t border-gray-100 bg-white absolute w-full z-40 shadow-2xl animate-fade-in"></div>
        `;
      }
      function createFooter({ categories }) {
        const logoUrl = "shklogo.jpg";
        return `
          <div class="max-w-7xl mx-auto px-4 grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-12">
            <div class="col-span-1 md:col-span-4 lg:col-span-2">
              <img src="${logoUrl}" alt="SHK Rhein-Neckar" class="h-16 w-auto mb-4"/>
              <p class="text-sm text-brand-steel leading-relaxed max-w-sm">${t('footer.about')}</p>
            </div>
            <div class="lg:col-start-3">
              <h3 class="text-xs font-bold uppercase tracking-widest text-brand-dark mb-6">${t('nav.magazine')}</h3>
              <ul class="space-y-3 text-sm text-brand-steel">
                <li><a href="index.html" data-nav-link="All" class="hover:text-brand-copper transition">${t('nav.home')}</a></li>
                <li><a href="directory.html" class="hover:text-brand-copper transition">${t('nav.directory')}</a></li>
                ${categories.slice(0, 4).map(c => `<li><a href="index.html" data-nav-link="${c}" class="hover:text-brand-copper transition">${t(`cat.${c}`)}</a></li>`).join('')}
              </ul>
            </div>
            <div>
              <h3 class="text-xs font-bold uppercase tracking-widest text-brand-dark mb-6">${t('nav.companies')}</h3>
              <ul class="space-y-3 text-sm text-brand-steel">
                <li><a href="article.html?id=page-submit" class="hover:text-brand-copper transition">${t('hero.submit_story')}</a></li>
                <li><a href="article.html?id=page-advertising" class="hover:text-brand-copper transition">Advertising</a></li>
                <li><a href="article.html?id=page-jobs" class="hover:text-brand-copper transition">Job Board</a></li>
              </ul>
            </div>
            <div>
              <h3 class="text-xs font-bold uppercase tracking-widest text-brand-dark mb-6">${t('nav.contact')}</h3>
              <ul class="space-y-3 text-sm text-brand-steel">
                <li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2 mt-1 flex-shrink-0"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg> redaktion@shk-rhein-neckar.de</li>
                <li class="flex items-start"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 mr-2 mt-1 flex-shrink-0"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg> Mannheim, Germany</li>
              </ul>
            </div>
          </div>
          <div class="max-w-7xl mx-auto px-4 mt-16 pt-8 border-t border-gray-100 flex flex-col md:flex-row justify-between items-center text-xs text-gray-400">
            <div class="flex space-x-6">
              <a href="article.html?id=page-imprint" class="hover:text-brand-copper">Imprint</a>
              <a href="article.html?id=page-privacy" class="hover:text-brand-copper">Privacy Policy</a>
              <a href="article.html?id=page-terms" class="hover:text-brand-copper">Terms</a>
            </div>
            <div class="mt-4 md:mt-0 text-center md:text-right">
              <span>Â© 2025 SHK Rhein-Neckar. ${t('footer.rights')}</span>
              <a href="admin.html" class="ml-4 text-gray-300 hover:text-brand-copper transition">${t('footer.staff_login')}</a>
            </div>
          </div>
        `;
      }
      function createArticleCard(article, { variant = 'standard' } = {}) {
        const title = article.translations?.[getLanguage()]?.title || article.title;
        const summary = article.translations?.[getLanguage()]?.summary || article.summary;
        if (variant === 'featured') { return `<a href="article.html?id=${article.id}" class="group relative w-full h-[600px] block overflow-hidden rounded-sm shadow-2xl cursor-pointer"><img src="${article.imageUrl}" alt="${title}" class="absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105" /><div class="absolute inset-0 bg-gradient-to-t from-brand-dark via-brand-dark/70 to-transparent opacity-90 transition-opacity duration-500 group-hover:opacity-100"></div>${article.videoUrl ? `<div class="absolute top-6 right-6 bg-white/10 backdrop-blur-md border border-white/20 text-white p-4 rounded-full animate-pulse shadow-lg z-10 group-hover:scale-110 transition-transform"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-8 h-8"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg></div>` : ''}<div class="absolute bottom-0 left-0 p-8 md:p-12 text-white max-w-5xl z-20"><div class="overflow-hidden mb-6"><span class="inline-block uppercase tracking-[0.2em] text-[10px] font-bold bg-brand-copper text-white px-3 py-1.5 rounded-sm transform translate-y-0 transition-transform group-hover:-translate-y-1">${article.category}</span></div><h2 class="text-3xl md:text-5xl lg:text-6xl font-display font-black mb-6 leading-none tracking-tight group-hover:text-gray-100 transition-colors">${title}</h2><p class="text-gray-300 mb-8 line-clamp-2 max-w-2xl font-light text-lg md:text-xl leading-relaxed opacity-90 group-hover:opacity-100 transition-opacity">${summary}</p><div class="flex items-center space-x-6 text-xs font-bold text-gray-400 uppercase tracking-widest border-t border-white/10 pt-6"><span class="text-brand-copper">${article.author}</span><span class="w-1 h-1 bg-gray-600 rounded-full"></span><span class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 mr-2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>${new Date(article.publishedAt).toLocaleDateString()}</span><div class="ml-auto hidden md:flex items-center text-white group-hover:translate-x-2 transition-transform duration-300">${t('article.read_story')} <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-2 w-4 h-4"><path d="M7 7h10v10"/><path d="M7 17 17 7"/></svg></div></div></div></a>`; }
        return `<a href="article.html?id=${article.id}" class="flex flex-col group cursor-pointer h-full bg-white rounded-sm overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-2 border border-transparent hover:border-gray-100"><div class="overflow-hidden aspect-[16/10] relative"><img src="${article.imageUrl}" alt="${title}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" /><div class="absolute top-4 left-4"><span class="bg-white/90 backdrop-blur-sm text-brand-dark text-[10px] font-bold uppercase tracking-widest px-3 py-1.5 shadow-sm rounded-sm">${article.category}</span></div><div class="absolute inset-0 bg-brand-dark/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>${article.videoUrl ? `<div class="absolute inset-0 flex items-center justify-center pointer-events-none"><div class="bg-brand-copper/90 p-3 rounded-full shadow-lg transform scale-90 opacity-0 group-hover:opacity-100 group-hover:scale-100 transition-all duration-300 delay-75"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 text-white"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg></div></div>` : ''}</div><div class="flex flex-col flex-grow p-6 relative"><div class="mb-4 flex items-center text-[10px] font-bold text-gray-400 uppercase tracking-wider space-x-2"><span>${new Date(article.publishedAt).toLocaleDateString()}</span><span class="w-px h-3 bg-gray-300"></span><span class="text-brand-copper">${article.readTime ? Math.ceil(article.readTime / 60) : 5} min read</span></div><h3 class="text-xl font-display font-bold text-brand-dark mb-3 leading-snug group-hover:text-brand-copper transition-colors">${title}</h3><p class="text-brand-steel text-sm line-clamp-3 mb-6 flex-grow leading-relaxed">${summary}</p><div class="mt-auto pt-4 border-t border-gray-50 flex items-center text-xs font-bold uppercase tracking-wider text-brand-dark group-hover:text-brand-copper transition-colors">${article.videoUrl ? t('article.watch_video') : t('article.read_story')}<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3 ml-1 transform group-hover:translate-x-1 transition-transform"><polyline points="9 18 15 12 9 6"/></svg></div></div></a>`;
      }

      // --- main.js ---
      let mobileMenuOpen=!1,langMenuOpen=!1,searchOpen=!1,scrolled=!1;function renderSharedComponents(){const headerPlaceholder=document.getElementById("header-placeholder"),footerPlaceholder=document.getElementById("footer-placeholder"),pageCategory=sessionStorage.getItem("active_category")||"All",isDirectoryActive=window.location.pathname.includes("directory.html");headerPlaceholder&&(headerPlaceholder.innerHTML=createHeader({categories:INITIAL_CATEGORIES,activeCategory:pageCategory,isDirectoryActive:isDirectoryActive}),addHeaderEventListeners(),updateHeaderOnScroll()),footerPlaceholder&&(footerPlaceholder.innerHTML=createFooter({categories:INITIAL_CATEGORIES}),addFooterEventListeners())}function setupNavLinkListeners(selector){document.querySelectorAll(selector).forEach(link=>{link.addEventListener("click",e=>{const href=e.currentTarget.getAttribute("href");if(href&&href.includes("index.html")){e.preventDefault();const category=e.currentTarget.dataset.navLink;sessionStorage.setItem("active_category",category),sessionStorage.removeItem("search_query");const isIndexPage=window.location.pathname.endsWith("/")||window.location.pathname.endsWith("index.html");isIndexPage?window.dispatchEvent(new CustomEvent("category-change",{detail:{category:category}})):window.location.href="index.html"}})})};function addHeaderEventListeners(){document.getElementById("mobile-menu-button")?.addEventListener("click",toggleMobileMenu),document.getElementById("lang-menu-button")?.addEventListener("click",()=>{langMenuOpen=!langMenuOpen,document.getElementById("lang-menu")?.classList.toggle("hidden",!langMenuOpen)}),document.querySelectorAll(".lang-option").forEach(button=>{button.addEventListener("click",e=>{const lang=e.currentTarget.dataset.lang;languageService.setLanguage(lang),langMenuOpen=!1})}),document.getElementById("search-toggle-button")?.addEventListener("click",toggleSearch),setupNavLinkListeners("#header-placeholder [data-nav-link]")}function addFooterEventListeners(){setupNavLinkListeners("#footer-placeholder [data-nav-link]")}function toggleMobileMenu(){mobileMenuOpen=!mobileMenuOpen;const mobileMenu=document.getElementById("mobile-menu");if(!mobileMenu)return;if(mobileMenuOpen){mobileMenu.classList.remove("hidden");const languages=[{code:"en",label:"English",flag:"ðŸ‡¬ðŸ‡§"},{code:"de",label:"Deutsch",flag:"ðŸ‡©ðŸ‡ª"},{code:"fr",label:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"it",label:"Italiano",flag:"ðŸ‡®ðŸ‡¹"},{code:"es",label:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"}],currentLang=languageService.getLanguage();mobileMenu.innerHTML=`
            <div class="px-6 py-6 space-y-4">
                <div class="flex space-x-3 mb-6 pb-6 border-b border-gray-100 overflow-x-auto">
                    ${languages.map(lang=>`<button data-lang="${lang.code}" class="mobile-lang-option flex-shrink-0 px-4 py-2 rounded-sm text-xs font-bold border transition-colors ${currentLang===lang.code?"bg-brand-copper text-white border-brand-copper":"bg-transparent text-gray-600 border-gray-200"}">${lang.flag} ${lang.code.toUpperCase()}</button>`).join("")}
                </div>
                <a href="index.html" data-nav-link="All" class="block w-full text-left py-3 text-sm font-bold uppercase tracking-wide text-brand-dark hover:text-brand-copper hover:pl-2 transition-all border-b border-gray-50">${t("nav.home")}</a>
                <a href="directory.html" class="block w-full text-left py-3 text-sm font-bold uppercase tracking-wide text-brand-dark hover:text-brand-copper hover:pl-2 transition-all border-b border-gray-50">${t("nav.directory")}</a>
                ${INITIAL_CATEGORIES.map(cat=>`<a href="index.html" data-nav-link="${cat}" class="block w-full text-left py-3 text-sm font-bold uppercase tracking-wide text-brand-dark hover:text-brand-copper hover:pl-2 transition-all border-b border-gray-50">${t(`cat.${cat}`)}</a>`).join("")}
                <a href="article.html?id=page-submit" class="block w-full mt-6 bg-brand-dark text-white px-4 py-4 text-sm font-bold uppercase tracking-wider text-center rounded-sm">${t("nav.get_featured")}</a>
            </div>
        `,mobileMenu.querySelectorAll(".mobile-lang-option").forEach(btn=>{btn.addEventListener("click",e=>{languageService.setLanguage(e.currentTarget.dataset.lang),toggleMobileMenu()})}),mobileMenu.querySelectorAll("[data-nav-link]").forEach(link=>{link.addEventListener("click",e=>{const href=e.currentTarget.getAttribute("href");if(href&&href.includes("index.html")){e.preventDefault();const category=e.currentTarget.dataset.navLink;sessionStorage.setItem("active_category",category),sessionStorage.removeItem("search_query"),toggleMobileMenu();const isIndexPage=window.location.pathname.endsWith("/")||window.location.pathname.endsWith("index.html");isIndexPage?window.dispatchEvent(new CustomEvent("category-change",{detail:{category:category}})):window.location.href="index.html"}})})})}else mobileMenu.classList.add("hidden")}function toggleSearch(){searchOpen=!searchOpen;const container=document.getElementById("search-container"),navLinks=document.getElementById("desktop-nav-links"),langSwitcher=document.getElementById("lang-switcher-container"),headerActions=document.getElementById("header-actions");searchOpen?(navLinks?.classList.add("hidden"),langSwitcher?.classList.add("hidden"),headerActions?.classList.add("flex-grow","justify-end"),container.classList.remove("w-8"),container.classList.add("w-full","md:w-96"),container.innerHTML=`
            <form id="search-form" class="relative w-full flex items-center">
                 <input id="search-input" type="text" placeholder="${t("search.placeholder")}" class="w-full bg-gray-100 border-none rounded-sm px-4 py-2 pr-10 text-sm focus:ring-2 focus:ring-brand-copper outline-none" />
                 <button type="button" id="close-search-button" class="absolute right-2 p-1 text-gray-400 hover:text-brand-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                 </button>
             </form>
        `,document.getElementById("search-input").focus(),document.getElementById("close-search-button").addEventListener("click",toggleSearch),document.getElementById("search-form").addEventListener("submit",handleSearchSubmit)):(sessionStorage.setItem("search_query",""),window.location.pathname.includes("index.html")&&window.dispatchEvent(new CustomEvent("search-change",{detail:""})),container.classList.add("w-8"),container.classList.remove("w-full","md:w-96"),navLinks?.classList.remove("hidden"),langSwitcher?.classList.remove("hidden"),headerActions?.classList.remove("flex-grow","justify-end"),container.innerHTML=`
            <button id="search-toggle-button" class="p-2 text-brand-steel hover:text-brand-copper transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
            </button>
        `,document.getElementById("search-toggle-button").addEventListener("click",toggleSearch))}function handleSearchSubmit(e){e.preventDefault();const query=document.getElementById("search-input").value;sessionStorage.setItem("search_query",query),window.location.pathname.includes("index.html")?window.dispatchEvent(new CustomEvent("search-change",{detail:query})):window.location.href="index.html"}function updateHeaderOnScroll(){const nav=document.querySelector("header"),logoImg=nav.querySelector("img"),handleScroll=()=>{window.scrollY>20?scrolled||(nav.classList.add("bg-white/95","backdrop-blur-md","shadow-md","border-b","border-gray-200","py-0"),nav.classList.remove("bg-white","border-gray-100","py-2"),logoImg.classList.add("h-12"),logoImg.classList.remove("h-16"),scrolled=!0):scrolled&&(nav.classList.remove("bg-white/95","backdrop-blur-md","shadow-md","border-b","border-gray-200","py-0"),nav.classList.add("bg-white","border-gray-100","py-2"),logoImg.classList.remove("h-12"),logoImg.classList.add("h-16"),scrolled=!1)};window.addEventListener("scroll",handleScroll,{passive:!0}),handleScroll()}window.addEventListener("language-change",renderSharedComponents),document.addEventListener("DOMContentLoaded",renderSharedComponents);
      
      // --- index-page.js ---
      const indexMainContent = document.getElementById('main-content');
      let indexState = {
        articles: ALL_ARTICLES, categories: INITIAL_CATEGORIES,
        activeCategory: sessionStorage.getItem('active_category') || 'All',
        searchQuery: sessionStorage.getItem('search_query') || '',
        displayedCount: 6,
      };
      function renderIndexPage() {
        let displayArticles = indexState.articles.filter(a => a.type !== 'page');
        if (indexState.searchQuery) {
          const lowerQuery = indexState.searchQuery.toLowerCase();
          displayArticles = displayArticles.filter(a => a.title.toLowerCase().includes(lowerQuery) || a.summary.toLowerCase().includes(lowerQuery) || a.content.toLowerCase().includes(lowerQuery));
          indexState.activeCategory = 'All';
        } else if (indexState.activeCategory !== 'All') {
          displayArticles = displayArticles.filter(a => a.category === indexState.activeCategory);
        }
        const featuredArticle = !indexState.searchQuery && indexState.activeCategory === 'All' ? displayArticles.find(a => a.featured) : null;
        let gridArticles = featuredArticle ? displayArticles.filter(a => a.id !== featuredArticle.id) : displayArticles;
        const categoryCards = indexState.categories.map(cat => {
            const catArticle = indexState.articles.find(a => a.category === cat && a.imageUrl);
            return { id: cat, title: t(`cat.${cat}`), image: catArticle?.imageUrl || 'https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?auto=format&fit=crop&q=80&w=600', count: indexState.articles.filter(a => a.category === cat).length };
        });
        let html = '';
        if (indexState.activeCategory === 'All' && !indexState.searchQuery) {
            html += `<div class="relative w-full h-[650px] flex items-center bg-brand-dark overflow-hidden group"><div class="absolute inset-0 z-0"><img src="https://images.unsplash.com/photo-1581092334651-ddf26d9a09d0?auto=format&fit=crop&q=80&w=2000" class="w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-[20s] ease-linear" alt="Industrial Background" /><div class="absolute inset-0 bg-gradient-to-r from-brand-dark via-brand-dark/90 to-transparent"></div></div><div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full"><div class="max-w-3xl space-y-8 animate-fade-in-up"><div class="flex items-center space-x-3 mb-6"><div class="h-px w-12 bg-brand-copper"></div><span class="text-brand-copper font-bold uppercase tracking-[0.3em] text-[10px]">The Regional Authority</span></div><h1 class="text-5xl md:text-7xl lg:text-8xl font-display font-black text-white leading-[0.9] tracking-tighter">${t('hero.title')}</h1><p class="text-xl md:text-2xl text-gray-300 font-light leading-relaxed max-w-xl border-l-4 border-white/10 pl-6">${t('hero.subtitle')}</p><div class="flex flex-wrap gap-4 pt-8"><a href="article.html?id=page-submit" class="group px-10 py-4 text-xs font-bold uppercase tracking-widest text-white border border-white/30 hover:bg-white/10 transition-all duration-300 rounded-sm backdrop-blur-sm flex items-center">${t('hero.submit_story')}</a></div></div></div></div>`;
        }
        html += `<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">`;
        if (indexState.searchQuery) { html += `<div class="mb-12"><h2 class="text-3xl font-display font-bold text-brand-dark mb-4">Search Results: "${indexState.searchQuery}"</h2><p class="text-brand-steel">${displayArticles.length} articles found.</p></div>`; }
        if (featuredArticle) { html += `<section class="mb-24 animate-fade-in-up" style="animation-delay: '0.3s'"><div class="flex items-center space-x-6 mb-10"><div class="h-px bg-gray-200 flex-grow"></div><span class="text-brand-steel uppercase tracking-[0.2em] text-xs font-bold">${t('section.top_story')}</span><div class="h-px bg-gray-200 flex-grow"></div></div>${createArticleCard(featuredArticle, { variant: 'featured' })}</section>`; }
        html += `<section class="animate-fade-in-up" style="animation-delay: '0.4s'"><div class="flex items-end justify-between mb-12 border-b border-gray-200 pb-6"><h2 class="text-3xl font-display font-bold text-brand-dark">${indexState.activeCategory === 'All' ? t('section.latest_news') : (t(`cat.${indexState.activeCategory}`) || indexState.activeCategory)}</h2><span class="text-xs font-bold text-gray-400 uppercase tracking-widest hidden sm:block">${gridArticles.length} Stories</span></div><div id="article-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-16">${gridArticles.slice(0, indexState.displayedCount).map((article, idx) => `<div style="animation-delay: ${0.1 * idx}s" class="animate-fade-in-up">${createArticleCard(article)}</div>`).join('')}</div>${gridArticles.length === 0 ? `<div class="text-center py-32 bg-gray-50 rounded-sm border border-dashed border-gray-300"><p class="text-brand-steel font-medium text-lg">${indexState.searchQuery ? t('search.no_results') : 'No stories found.'}</p>${indexState.searchQuery ? `<button id="clear-search-btn" class="mt-4 text-brand-copper font-bold uppercase text-xs underline">Clear Search</button>` : ''}</div>` : ''}${gridArticles.length > indexState.displayedCount ? `<div class="mt-16 text-center"><button id="load-more-btn" class="inline-flex items-center bg-white border border-gray-200 px-8 py-3 text-xs font-bold uppercase tracking-widest text-brand-dark hover:border-brand-copper hover:text-brand-copper transition-colors shadow-sm">${t('btn.load_more')}</button></div>` : ''}</section>`;
        if (indexState.activeCategory === 'All' && !indexState.searchQuery) { html += `<section class="mt-32 pt-16 border-t border-gray-100 animate-fade-in"><h2 class="text-2xl font-display font-bold text-brand-dark flex items-center mb-10">${t('section.explore_categories')}</h2><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">${categoryCards.map(cat => `<div data-category-id="${cat.id}" class="category-card group relative h-64 rounded-sm overflow-hidden cursor-pointer shadow-lg hover:shadow-2xl transition-all duration-500"><img src="${cat.image}" alt="${cat.title}" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" /><div class="absolute inset-0 bg-brand-dark/60 group-hover:bg-brand-dark/40 transition-colors duration-500"></div><div class="absolute inset-0 p-8 flex flex-col justify-end items-start"><span class="text-xs text-white/80 font-bold uppercase tracking-wider mb-2">${cat.count} Stories</span><h3 class="text-2xl font-display font-bold text-white mb-4 group-hover:translate-x-2 transition-transform">${cat.title}</h3></div></div>`).join('')}</div></section>`; }
        html += `</div>`;
        html += `<section class="py-24 px-4 bg-brand-surface"><div class="max-w-6xl mx-auto bg-brand-dark rounded-sm overflow-hidden shadow-2xl relative"><div class="relative z-10 grid md:grid-cols-2 gap-12 p-12 md:p-20 items-center"><div class="text-left space-y-6"><h2 class="text-4xl font-display font-bold text-white leading-tight">${t('newsletter.title')}</h2><p class="text-gray-400 text-lg leading-relaxed">${t('newsletter.text')}</p></div><div class="bg-white/5 backdrop-blur-sm p-8 rounded-sm border border-white/10"><form class="flex flex-col gap-4"><input type="email" placeholder="${t('newsletter.placeholder')}" class="w-full px-6 py-4 bg-white/10 border border-white/10 rounded-sm text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-copper focus:bg-white/20 transition-all"/><button class="w-full bg-brand-copper text-white px-6 py-4 font-bold uppercase tracking-widest text-xs hover:bg-white hover:text-brand-dark transition-all rounded-sm shadow-lg hover:shadow-xl mt-2">${t('newsletter.button')}</button></form></div></div></div></section>`;
        indexMainContent.innerHTML = html;
        addIndexPageEventListeners();
      }
      function addIndexPageEventListeners() {
        document.getElementById('load-more-btn')?.addEventListener('click', () => { indexState.displayedCount += (indexState.activeCategory === 'All' ? 6 : 9); renderIndexPage(); });
        document.getElementById('clear-search-btn')?.addEventListener('click', () => { indexState.searchQuery = ''; sessionStorage.setItem('search_query', ''); renderIndexPage(); const searchInput = document.getElementById('search-input'); if (searchInput) searchInput.value = ''; });
        document.querySelectorAll('.category-card').forEach(card => card.addEventListener('click', () => { handleCategoryChange(card.dataset.categoryId); }));
      }
      function handleCategoryChange(category) {
        indexState.activeCategory = category; indexState.searchQuery = '';
        sessionStorage.setItem('active_category', category); sessionStorage.setItem('search_query', '');
        indexState.displayedCount = category === 'All' ? 6 : 9;
        renderIndexPage();
        window.dispatchEvent(new CustomEvent('language-change'));
      }
      window.addEventListener('language-change', renderIndexPage);
      window.addEventListener('search-change', (e) => { indexState.searchQuery = e.detail; indexState.displayedCount = indexState.searchQuery ? 100 : 6; renderIndexPage(); });
      window.addEventListener('category-change', (e) => { handleCategoryChange(e.detail.category); });
      document.addEventListener('DOMContentLoaded', () => { const navCategory = sessionStorage.getItem('active_category'); if (navCategory) { handleCategoryChange(navCategory); } else { renderIndexPage(); } });

      // --- END: Embedded JS ---
    </script>
  </body>
</html>
